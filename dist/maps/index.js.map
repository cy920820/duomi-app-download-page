{"version":3,"names":[],"mappings":"","sources":["index.js"],"sourcesContent":[";(function($) {\n  // 获取用户id\n  let accountId = getAccountId('accountId')\n  // 从后端获取邀请码\n  $.ajax({\n    url: 'https://shiziquan.com/shiziquan/learn?accountId=1000036&action=simpleaccountinfo',\n    type: 'POST',\n    data: {\n      accountId\n    },\n    dataType: 'json',\n    success(res) {\n      let data = res.data\n      if (Object.keys(data).length) {\n        renderInviteCode(data.inviteNo)\n      }\n    },\n    error() {\n      alert('服务器繁忙！')\n    }\n  })\n\n  // 渲染邀请码\n  function renderInviteCode(data) {\n    $('.code-wrap .code').html(data)\n    $('.copy-btn').attr('data-clipboard-text', data)\n  }\n\n  // 获取元素并绑定点击事件\n  function copy(el) {\n    let fixedEl = document.getElementById('fixed')\n    if (fixedEl.style.display === '') return\n\n    // 复制口令、链接\n    var clipboard = new ClipboardJS(el)\n    clipboard.on('success', function(e) {\n      // console.info('Text:', e.text)\n      fixedEl.style.display = ''\n      e.clearSelection()\n      setTimeout(() => {\n        fixedEl.style.display = 'none'\n      }, 1500)\n    })\n\n    clipboard.on('error', function(e) {\n      alert('请稍后重试!')\n    })\n  }\n\n  // 通过url query获取用户id\n  function getAccountId(name, url) {\n    if (!url) url = window.location.href\n    name = name.replace(/[\\[\\]]/g, '\\\\$&')\n    let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)')\n    let results = regex.exec(url)\n    if (!results) return null\n    if (!results[2]) return ''\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '))\n  }\n\n  copy('.copy-btn')\n})(Zepto)\n"],"file":"../js/index.js"}